(this["webpackJsonplife-on-track"]=this["webpackJsonplife-on-track"]||[]).push([[0],{171:function(e,t,a){e.exports=a(198)},176:function(e,t,a){},189:function(e,t,a){},195:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),c=a.n(i),l=(a(176),a(15)),o=a(22),u=a(92);a(186),a(187);u.initializeApp({apiKey:"AIzaSyB9VIxIKm8TCcXe1qdGHrVzvf1n5s5oU5w",authDomain:"life-on-track-8096c.firebaseapp.com",databaseURL:"https://life-on-track-8096c.firebaseio.com",projectId:"life-on-track-8096c",storageBucket:"life-on-track-8096c.appspot.com",messagingSenderId:"872915757737",appId:"1:872915757737:web:2820ef091dda14b8f5d7b8"});var s=u.firestore(),m=function(){return u.auth()},d=a(17),p=a.n(d),f=a(24),v=a(156);function g(e){return E.apply(this,arguments)}function E(){return(E=Object(f.a)(p.a.mark((function e(t){var a,n,r,i,c,l,o,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,r=t.displayName,i=void 0===r?"No Name":r,c=t.photoURL,l=void 0===c?"https://placekitten.com/200/200":c,e.prev=1,e.next=4,m().createUserWithEmailAndPassword(a,n);case 4:return o=e.sent,u=o.user,d=Object(v.a)(new Date,"yyyy-mm-dd"),e.next=9,u.updateProfile({displayName:i,photoURL:l});case 9:return e.next=11,s.doc("users/".concat(u.uid)).set({displayName:i,uid:u.uid,photoURL:l,createdAt:d});case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(1),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function b(e,t){return console.log("logging in..."),m().signInWithEmailAndPassword(e,t)}function h(){return m().signOut()}var y=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",s.collection("activityType").add(Object(o.a)({createdAt:Date.now()},t)).then((function(e){return e.get()})).then((function(e){return Object(o.a)({},e.data(),{id:e.id})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),a=s.doc("activityType/".concat(t.id)),console.log("firebase",a),a.update(Object(o.a)({updatedAt:Date.now()},t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=k((function(e,t){return s.collection("activityType").orderBy("createdAt").where("uid","==",e).onSnapshot((function(e){return t(S(e))}))})),w=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",s.collection("activity").add(Object(o.a)({createdAt:Date.now()},t)).then((function(e){return e.get()})).then((function(e){return Object(o.a)({},e.data(),{id:e.id})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=k((function(e,t){return s.collection("activity").orderBy("createdAt").where("uid","==",e).onSnapshot((function(e){return t(S(e))}))}));function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=0;return function(){if(++a>t)throw new Error("EASY THERE: You've called \"".concat(e.name,'" too many times too quickly, did you forget the second argument to useEffect? Also, this is a message from Ryan and Michael, not React.'));return setTimeout((function(){return a=0}),3e3),e.apply(void 0,arguments)}}function S(e){var t=[];return e.forEach((function(e){t.push(function(e){return Object(o.a)({},e.data(),{id:e.id})}(e))})),t}var A=k((function(e){return s.doc(e).get().then((function(e){return e.data()}))})),C=Object(n.createContext)();function N(e){var t=e.reducer,a=e.initialState,i=void 0===a?{}:a,c=e.children,l=Object(n.useReducer)(t,i);return r.a.createElement(C.Provider,{value:l,children:c})}function T(){return Object(n.useContext)(C)}function I(){var e=T(),t=Object(l.a)(e,2),a=t[0],r=a.authAttempted,i=a.auth,c=t[1];return Object(n.useEffect)((function(){return e=function(e){if(e){var t=e.displayName,a=e.photoURL,n=e.uid;c({type:"AUTH_CHANGE",auth:{displayName:t,photoURL:a,uid:n}})}else c({type:"AUTH_CHANGE",auth:null})},m().onAuthStateChanged(e);var e}),[c]),{authAttempted:r,auth:i}}var R=a(90),D=a(69),P={};function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{listen:!0},a=t.listen,r=P[e],i=Object(n.useState)(r),c=Object(l.a)(i,2),o=c[0],u=c[1];return Object(n.useEffect)((function(){if(a)return O(e,(function(t){P[e]=t,u(t)}))}),[e,a]),o}function U(e){return L.apply(this,arguments)}function L(){return(L=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete t.id,y(t),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return H.apply(this,arguments)}function H(){return(H=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updateTaskTypes",t),j(t),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=a(60),F=a(6),z=a(269),V=a(248),_=a(45),M=a(93),q=(a(189),a(239)),K=a(241),J=a(242),Y=Object(G.a)({root:{minWidth:295},title:{fontSize:16}}),X=function(e){var t=Y();return r.a.createElement(n.Fragment,null,r.a.createElement(q.a,{className:t.root},r.a.createElement(K.a,null,r.a.createElement(_.a,{className:t.title,gutterBottom:!0,variant:"h5",component:"h2"},null===e||void 0===e?void 0:e.title),e.children),r.a.createElement(J.a,null,null===e||void 0===e?void 0:e.buttons)))},Q=Object(G.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},button:{width:"100%",marginTop:e.spacing(2)}}})),Z=Object(F.a)({root:{marginRight:8,"& .MuiInputBase-root.Mui-disabled":{color:"rgba(0, 0, 0, 0.75)"}}})(z.a),$=function(e){var t=e.passedInActivityType,a=Q(),i=Object(n.useState)({activityName:(null===t||void 0===t?void 0:t.activityName)||"",importance:(null===t||void 0===t?void 0:t.importance)||"",satisfaction:(null===t||void 0===t?void 0:t.satisfaction)||"",uid:e.uid,id:null===t||void 0===t?void 0:t.id}),c=Object(l.a)(i,2),u=c[0],s=c[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),v=d[0],g=d[1],E=Object(n.useState)(!1),b=Object(l.a)(E,2),h=b[0],y=b[1],j=Object(n.useState)(!1),O=Object(l.a)(j,2),w=O[0],x=O[1],k=function(e){""!==u.activityName&&""!==u.importance&&""!==u.satisfaction?(x(""),e(),y(!1)):x({message:"Please fill out all fields"})},S=function(){var a=Object(f.a)(p.a.mark((function a(){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return g(!0),console.log(u),a.prev=2,a.next=5,U(u);case 5:g(!1),s({activityName:(null===t||void 0===t?void 0:t.activityName)||"",importance:(null===t||void 0===t?void 0:t.importance)||"",satisfaction:(null===t||void 0===t?void 0:t.satisfaction)||"",uid:e.uid}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(2),x(a.t0),g(!1);case 13:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(){return a.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,B(u);case 4:g(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),x(e.t0),g(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(!h);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(X,{title:e.passedInActivityType?t.activityName:"Add a new activity",className:a.root},r.a.createElement(V.a,{container:!0,direction:"column",justify:"space-between",alignItems:"stretch"},r.a.createElement("div",{style:{height:25}},w&&r.a.createElement(_.a,{color:"error",variant:"caption"},w.message)),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(Z,{fullWidth:!0,error:!(!w||u.importance),onChange:function(e){var t=e.target.value;s(Object(o.a)({},u,{activityName:t}))},disabled:!!e.passedInActivityType&&!h,type:"text",placeholder:"Activity Name",label:"Activity Name",value:u.activityName})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(Z,{fullWidth:!0,error:!(!w||u.importance),onChange:function(e){var t=e.target.value;console.log(u),s(Object(o.a)({},u,{importance:t}))},disabled:!!e.passedInActivityType&&!h,inputProps:{min:"1",max:"5",step:"1"},type:"number",placeholder:"1 - 5",label:e.passedInActivityType?"Importance":"How important is this to you?",value:u.importance})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(Z,{fullWidth:!0,error:!(!w||u.importance),disabled:!!e.passedInActivityType&&!h,inputProps:{min:"1",max:"5",step:"1"},onChange:function(e){var t=e.target.value;console.log(u),s(Object(o.a)({},u,{satisfaction:t}))},type:"number",placeholder:"1 - 5",label:e.passedInActivityType?"Satisfaction":"Satisfaction from activity",value:u.satisfaction})),h?r.a.createElement(V.a,{justify:"space-between",container:!0},r.a.createElement(V.a,{item:!0,xs:5},r.a.createElement(M.a,{className:a.button,variant:"outlined",color:"secondary",onClick:C},r.a.createElement("span",null,"cancel"))),r.a.createElement(V.a,{item:!0,xs:5},r.a.createElement(M.a,{className:a.button,variant:"contained",color:"primary",onClick:function(){return k(A)}},r.a.createElement("span",null,v?"Loading...":"Done")))):r.a.createElement(V.a,null,r.a.createElement(M.a,{className:a.button,variant:"contained",color:"primary",onClick:e.passedInActivityType?C:function(){return k(S)}},r.a.createElement("span",null,v?"Loading...":e.passedInActivityType?"Edit":"Add")))))},ee=a(126),te=a(33),ae=a.n(te),ne=(a(194),a(195),{});function re(){return(re=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete t.id,w(t),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=a(100),ce=a(272),le=a(155),oe=a(201),ue=a(249),se=a(267),me=a(203),de=a(204),pe=a(250),fe=a(251),ve=a(245),ge=a(271),Ee=a(264),be=a(252),he=a(206),ye=a(25),je=a(253),Oe=a(273),we=a(154),xe=function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},icon:{marginRight:e.spacing(.5)},divider:{margin:"auto"},grid:{marginBottom:e.spacing(2)}}},ke=Object(F.a)(xe)((function(e){var t=e.dialogProps,a=e.user,i=Object(le.a)(),c=Object(n.useState)(null),u=Object(l.a)(c,2),s=u[0],m=u[1],d=Object(n.useState)(null),p=Object(l.a)(d,2),f=(p[0],p[1],Object(n.useState)({end:ae()(),start:ae()(),satisfaction:1})),v=Object(l.a)(f,2),g=v[0],E=v[1],b=Object(n.useState)(!1),h=Object(l.a)(b,2),y=h[0];h[1];Object(n.useEffect)((function(){var e,n,r,i,c;E({end:ae()(null===t||void 0===t||null===(e=t.event)||void 0===e?void 0:e.end),date:ae()(null===t||void 0===t||null===(n=t.event)||void 0===n?void 0:n.start),start:ae()(null===t||void 0===t||null===(r=t.event)||void 0===r?void 0:r.start),satisfaction:(null===t||void 0===t||null===(i=t.event)||void 0===i?void 0:i.satisfaction)||null,activityName:null===t||void 0===t||null===(c=t.event)||void 0===c?void 0:c.title,uid:a.uid})}),[a,t]);var j=W(a.uid),O=function(e){E(Object(o.a)({},g,Object(ie.a)({},e.target.id,e.target.value)))},w=function(e){if(void 0!=e.activityName){var a=ae()(e.start).set({month:ae()(e.date).get("month"),date:ae()(e.date).get("date")}),n=ae()(e.end).set({month:ae()(e.date).get("month"),date:ae()(e.date).get("date")});e.start=a.toDate(),e.end=n.toDate(),function(e){re.apply(this,arguments)}(e),t.toggle()}else m({message:"Choose an activity!"})};return console.log(g),r.a.createElement(oe.a,{fullWidth:!0,open:null===t||void 0===t?void 0:t.open,maxWidth:"sm","aria-labelledby":"form-dialog-title"},r.a.createElement(ue.a,{disableTypography:!0},r.a.createElement(_.a,{variant:"h6"},"Add a new activity :)"),r.a.createElement(se.a,{title:"Close"},r.a.createElement(me.a,{style:{position:"absolute",right:i.spacing(1),top:i.spacing(1)},onClick:null===t||void 0===t?void 0:t.toggle},r.a.createElement(ce.a,null)))),r.a.createElement(de.a,null,s&&r.a.createElement("div",{style:{color:"red"}},r.a.createElement("i",null,s.message)),r.a.createElement(pe.a,null,"Think about how you felt while you were doing your activity."),r.a.createElement(V.a,{container:!0,direction:"row"},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(fe.a,{className:xe.divider,orientation:"vertical"})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(V.a,{container:!0,spacing:2},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(ve.a,{style:{width:"100%"}},r.a.createElement(ge.a,{style:{color:s?"red":null},id:"activityName"},"What did you do?"),r.a.createElement(Ee.a,{fullWidth:!0,onChange:function(e){E(Object(o.a)({},g,{activityName:e.target.value}))},value:g.activityName,error:!(!s||g.activityName),id:"activityName",displayEmpty:!0,label:"Activity Type"},j&&j.map((function(e){return r.a.createElement(be.a,{key:e.id,value:e.activityName},e.activityName)}))))),r.a.createElement(ye.a,{utils:we.a},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(je.a,{disableToolbar:!0,variant:"inline",margin:"normal",id:"date",label:"Date",value:g.date,defaultValue:g.start,onChange:function(e){return t=e,void E(Object(o.a)({},g,{date:t}));var t},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(V.a,{item:!0,xs:6},r.a.createElement(Oe.a,{fullWidth:!0,variant:"inline",value:g.start,defaultValue:ae()(g.start),onChange:function(e){return function(e){E(Object(o.a)({},g,{start:e}))}(e)},id:"start",label:"Start Time",minutesStep:5})),r.a.createElement(V.a,{item:!0,xs:6},r.a.createElement(Oe.a,{fullWidth:!0,variant:"inline",value:g.end,defaultValue:g.end,onChange:function(e){return function(e){E(Object(o.a)({},g,{end:e}))}(e)},id:"end",label:"End Time",minutesStep:5}))),r.a.createElement(V.a,{item:!0,xs:2},r.a.createElement(z.a,{fullWidth:!0,type:"number",inputProps:{min:"1",max:"5",step:"1"},onChange:function(e){return O(e)},id:"satisfaction",value:g.satisfaction||1,label:"Satisfaction"})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z.a,{fullWidth:!0,multiline:!0,rows:4,variant:"outlined",type:"text",onChange:function(e){return O(e)},id:"satisfactionReason",label:"What did you enjoy/dislike?",value:g.satisfactionReason}))))),r.a.createElement(he.a,{style:{justifyContent:"space-between"}},r.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){return w(g)}},r.a.createElement("span",null,y?"Loading...":"Add")))))})),Se=Object(ee.b)(ae.a),Ae=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)(),u=Object(l.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(),p=Object(l.a)(d,2),f=p[0],v=p[1],g=T(),E=Object(l.a)(g,1)[0].user,b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{listen:!0},a=t.listen,r=ne[e],i=Object(n.useState)(r),c=Object(l.a)(i,2),o=c[0],u=c[1];return Object(n.useEffect)((function(){if(a)return x(e,(function(t){ne[e]=t,u(t)}))}),[e,a]),o}(E.uid);console.log(b),Object(n.useEffect)((function(){var e=null===b||void 0===b?void 0:b.map((function(e){return{title:e.activityName,start:e.start.toDate(),end:e.end.toDate()}}));v(e)}),[b]);var h=function(e){console.log("passedEvent",e),c(!0);var t=(null===e||void 0===e?void 0:e.start)||(null===e||void 0===e?void 0:e.slots[0]),a=(null===e||void 0===e?void 0:e.end)||e.slots.pop();m({start:t,end:a})},y={event:s,open:i,toggle:function(){return c(!i)}};return r.a.createElement(r.a.Fragment,null,f&&r.a.createElement(ee.a,{localizer:Se,selectable:!0,onSelectSlot:function(e){return h(e)},onSelectEvent:function(e){return h(e)},startAccessor:"start",events:f,endAccessor:"end",style:{height:800},eventPropGetter:function(e,t,a,n){return{style:{backgroundColor:"#67a9ff",borderRadius:"0px",color:"white",border:"0px",display:"block"}}},defaultView:"day"}),r.a.createElement(ke,Object.assign({dialogProps:y,user:E},y.props)))},Ce=Object(G.a)((function(){return{root:{flexGrow:1}}})),Ne=function(){var e=Ce(),t=T(),a=Object(l.a)(t,1)[0].user,i=W(a.uid);return r.a.createElement(n.Fragment,null,r.a.createElement(V.a,{container:!0,className:e.root,spacing:2},i&&i.map((function(e){return r.a.createElement(V.a,{key:e.id,item:!0,xs:4},r.a.createElement($,{passedInActivityType:e,uid:a.uid}))})),r.a.createElement(V.a,{item:!0,xs:3},r.a.createElement($,{uid:a.uid}))))},Te=a(258),Ie=a(268),Re=a(255),De=a(254),Pe=a(247),We=a(205),Ue=a(256),Le=a(257),Be=a(151),He=a.n(Be),Ge=a(152),Fe=a.n(Ge),ze=a(150),Ve=a.n(ze),_e=Object(G.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));function Me(){var e=_e(),t=[{text:"Dashboard",clickHandler:function(){a.push("/")},icon:r.a.createElement(Ve.a,null)},{text:"My Day",clickHandler:function(){a.push("/calendar")},icon:r.a.createElement(He.a,null)},{text:"Activities",clickHandler:function(){a.push("/activityTypes")},icon:r.a.createElement(Fe.a,null)}],a=Object(D.e)();return r.a.createElement(n.Fragment,null,r.a.createElement(Re.a,null),r.a.createElement(Ie.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper}},r.a.createElement(De.a,null),r.a.createElement("div",{className:e.drawerContainer}),r.a.createElement(fe.a,null),r.a.createElement(Pe.a,null,t.map((function(e,t){return r.a.createElement(We.a,{onClick:e.clickHandler,button:!0,key:e.text},r.a.createElement(Ue.a,null,e.icon),r.a.createElement(Le.a,{primary:e.text}))}))),r.a.createElement(fe.a,null)))}var qe=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(V.a,{container:!0,justify:"center",spacing:2,minHeight:1e3},r.a.createElement(V.a,{item:!0},r.a.createElement(_.a,null,"Dashboard goes here :)"))))},Ke=Object(G.a)((function(e){return{root:{flexGrow:1,marginTop:e.spacing(4)}}})),Je=function(e){var t=T(),a=Object(l.a)(t,2),i=a[0],c=i.auth,o=i.user,u=a[1],s=Ke();return Object(n.useEffect)((function(){o||A("users/".concat(c.uid)).then((function(e){u({type:"LOAD_USER",user:e})}))}),[o,c.uid,u]),console.log(o),r.a.createElement(n.Fragment,null,r.a.createElement(R.a,{basename:"/life-on-track"},r.a.createElement(Me,null),r.a.createElement(Te.a,{maxWidth:"md"},r.a.createElement("div",{className:s.root},null!=o&&r.a.createElement(n.Fragment,null,r.a.createElement(D.a,{exact:!0,path:"/calendar"},r.a.createElement(Ae,null)),r.a.createElement(D.a,{exact:!0,path:"/activityTypes",name:"Activity Types",component:Ne}),r.a.createElement(D.a,{exact:!0,path:"/",name:"Dashboard",component:qe},r.a.createElement(Ae,null)))))))},Ye=function(){return r.a.createElement("div",null,r.a.createElement(_.a,null,"Sign In"))},Xe=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(R.a,{basename:"/life-on-track"},r.a.createElement(Me,null),r.a.createElement("div",null,r.a.createElement(Te.a,{maxWidth:"lg"},r.a.createElement(D.a,{exact:!0,path:"/register",name:"Register Page",component:Ye}),r.a.createElement(D.a,{exact:!0,path:"/",name:"Landing",component:qe})))))},Qe=a(266),Ze=a(259),$e=function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},icon:{marginRight:e.spacing(.5)},divider:{margin:"auto"},grid:{marginBottom:e.spacing(2)}}};function et(e){var t=e.id,a=e.label,i=e.type,c=void 0===i?"text":i;return r.a.createElement(n.Fragment,null,r.a.createElement(z.a,{fullWidth:!0,id:t,type:c,placeholder:a,label:a}))}var tt=Object(F.a)($e)((function(e){var t=e.dialogProps,a=Object(le.a)(),i=Object(n.useState)(null),c=Object(l.a)(i,2),o=c[0],u=c[1],s=Object(n.useState)(!1),m=Object(l.a)(s,2),d=m[0],v=m[1],E=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r,i,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),a=Object(l.a)(t.target.elements,4),n=a[0],r=a[1],i=a[2],c=a[3],e.prev=3,o={displayName:n.value,email:i.value,password:c.value,photoURL:r.value},e.next=7,g(o);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),v(!1),u(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(oe.a,{fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",open:null===t||void 0===t?void 0:t.open},r.a.createElement(ue.a,{disableTypography:!0},r.a.createElement(_.a,{variant:"h6"},"Register"),r.a.createElement(se.a,{title:"Close"},r.a.createElement(me.a,{style:{position:"absolute",right:a.spacing(1),top:a.spacing(1)},onClick:null===t||void 0===t?void 0:t.toggle},r.a.createElement(ce.a,null)))),r.a.createElement("form",{onSubmit:E},r.a.createElement(de.a,null,o&&r.a.createElement("div",null,r.a.createElement("p",null,"Oops, there was an error logging you in."),r.a.createElement("p",null,r.a.createElement("i",null,o.message))),r.a.createElement(pe.a,null,"Register with an email to start your journey."),r.a.createElement(V.a,{container:!0,direction:"row"},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(fe.a,{className:$e.divider,orientation:"vertical"})),r.a.createElement(V.a,{item:!0,xs:7},r.a.createElement(V.a,{container:!0,direction:"column",spacing:2},r.a.createElement(V.a,{item:!0,xs:!0},r.a.createElement(et,{id:"displayName",label:"Display Name"})),r.a.createElement(V.a,{item:!0,xs:!0},r.a.createElement(et,{id:"photoURL",label:"Avatar URL"})),r.a.createElement(V.a,{item:!0,xs:!0},r.a.createElement(et,{id:"email",label:"Email"})),r.a.createElement(V.a,{item:!0,xs:!0},r.a.createElement(et,{id:"password",type:"password",label:"Password"}))))),r.a.createElement(he.a,{style:{justifyContent:"space-between"}},r.a.createElement(Ze.a,{variant:"caption",component:"button",onClick:null===t||void 0===t?void 0:t.switch},"Register"," "),r.a.createElement(M.a,{variant:"contained",color:"primary",type:"submit"},r.a.createElement("span",null,d?"Loading...":"Register"))))))})),at=a(260),nt=a(265),rt=function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},icon:{marginRight:e.spacing(.5)},divider:{margin:"auto"},grid:{marginBottom:e.spacing(2)}}},it=Object(F.a)(rt)((function(e){var t=e.dialogProps,a=Object(le.a)(),i=Object(n.useState)(null),c=Object(l.a)(i,2),o=c[0],u=c[1],s=Object(n.useState)(!1),m=Object(l.a)(s,2),d=m[0],v=m[1],g=Object(n.useState)(!1),E=Object(l.a)(g,2),h=E[0],y=E[1],j=Object(n.useState)(""),O=Object(l.a)(j,2),w=O[0],x=O[1],k=Object(n.useState)(""),S=Object(l.a)(k,2),A=S[0],C=S[1],N=function(){var e=Object(f.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),v(!0),e.prev=2,e.next=5,b(w,A);case 5:t.toggle(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),v(!1),u(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(oe.a,{fullWidth:!0,open:null===t||void 0===t?void 0:t.open,maxWidth:"sm","aria-labelledby":"form-dialog-title"},r.a.createElement(ue.a,{disableTypography:!0},r.a.createElement(_.a,{variant:"h6"},"Sign in to your account"),r.a.createElement(se.a,{title:"Close"},r.a.createElement(me.a,{style:{position:"absolute",right:a.spacing(1),top:a.spacing(1)},onClick:null===t||void 0===t?void 0:t.toggle},r.a.createElement(ce.a,null)))),r.a.createElement(de.a,null,o&&r.a.createElement("div",null,r.a.createElement("p",null,"Oops, there was an error logging you in."),r.a.createElement("p",null,r.a.createElement("i",null,o.message))),r.a.createElement(pe.a,null,"To login to this website, please enter your email address and password."),r.a.createElement("form",{onSubmit:N},r.a.createElement(V.a,{container:!0,direction:"row"},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(fe.a,{className:rt.divider,orientation:"vertical"})),r.a.createElement(V.a,{item:!0,xs:7},r.a.createElement(V.a,{container:!0,direction:"column",spacing:2},r.a.createElement(V.a,{item:!0,xs:!0},r.a.createElement(z.a,{autoFocus:!0,fullWidth:!0,value:w,onChange:function(e){return x(e.currentTarget.value)},id:"login:email",placeholder:"you@example.com",type:"text",label:"Email"})),r.a.createElement(V.a,{item:!0,xs:!0},r.a.createElement(z.a,{fullWidth:!0,value:A,onChange:function(e){return C(e.currentTarget.value)},id:"login:password",type:h?"text":"password",placeholder:"Password",label:"password"})),r.a.createElement(V.a,{item:!0,xs:!0},r.a.createElement(at.a,{control:r.a.createElement(nt.a,{color:"primary",onChange:function(e){y(e.target.checked)},defaultChecked:h}),label:"show password"})))))),r.a.createElement(he.a,{style:{justifyContent:"space-between"}},r.a.createElement(Ze.a,{variant:"caption",component:"button",onClick:null===t||void 0===t?void 0:t.switch},"Register "),r.a.createElement(M.a,{variant:"contained",color:"primary",onClick:N},r.a.createElement("span",null,d?"Loading...":"Login")))))})),ct=function(e){var t=e.theme,a=e.dialogs,n=e.openSnackbar,i=a.signUpDialog,c=a.signInDialog;return r.a.createElement(Qe.a,{xsDown:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,Object.assign({dialogProps:i.dialogProps,theme:t,openSnackbar:n},i.props)),r.a.createElement(it,Object.assign({dialogProps:c.dialogProps,theme:t,openSnackbar:n},c.props,{signUpDialogProps:i.dialogProps}))))},lt={authAttempted:!1,auth:null,user:null},ot=function(e,t){switch(t.type){case"AUTH_CHANGE":return Object(o.a)({},e,{auth:t.auth,authAttempted:!0});case"LOAD_USER":return Object(o.a)({},e,{user:t.user});default:return e}},ut=a(263),st=a(261),mt=a(262),dt=Object(G.a)((function(e){return{root:{display:"flex",flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},title:{flexGrow:1}}})),pt=function(e){var t=T(),a=Object(l.a)(t,2),i=a[0],c=i.auth,o=i.user,u=a[1],s=e.onSignInClick,m=e.onSignUpClick,d=dt();return Object(n.useEffect)((function(){!o&&c&&A("users/".concat(c.uid)).then((function(e){u({type:"LOAD_USER",user:e})}))}),[o,c,null===c||void 0===c?void 0:c.uid,u]),r.a.createElement("div",{className:d.root},r.a.createElement(st.a,{position:"static",className:d.appBar},r.a.createElement(De.a,null,r.a.createElement(_.a,{variant:"h6",className:d.title},"Life on Track"),o?r.a.createElement(M.a,{color:"inherit",onClick:h},"Sign out"):r.a.createElement(mt.a,{color:"inherit"},r.a.createElement(M.a,{onClick:m},"Sign up"),r.a.createElement(M.a,{onClick:s},"Sign in")))))},ft=function(){var e=I(),t=e.authAttempted,a=e.auth,i=Object(n.useState)(!1),c=Object(l.a)(i,2),o=c[0],u=c[1],s=Object(n.useState)(!1),m=Object(l.a)(s,2),d=m[0],p=m[1],f=r.a.useMemo((function(){return Object(le.a)({palette:{primary:{main:"#007bf5",contrastText:"#ffffff"},secondary:{main:"#f57b00"},type:"light"}})}),[!1]);return t?r.a.createElement(ut.a,{theme:f},r.a.createElement(ct,{theme:f,dialogs:{signUpDialog:{dialogProps:{open:d,toggle:function(){return p(!d)},switch:function(){p(!d),u(!o)}}},signInDialog:{dialogProps:{open:o,toggle:function(){return u(!o)},switch:function(){u(!o),p(!d)}}}}}),r.a.createElement(pt,{onSignUpClick:function(){return p(!0)},onSignInClick:function(){return u(!0)}}),a?r.a.createElement(Je,null):r.a.createElement(Xe,null)):null},vt=function(){return r.a.createElement(N,{reducer:ot,initialState:lt},r.a.createElement(ft,null))};c.a.render(r.a.createElement(vt,null),document.querySelector("#root"))}},[[171,1,2]]]);
//# sourceMappingURL=main.946f0cb1.chunk.js.map