(this["webpackJsonplife-on-track"]=this["webpackJsonplife-on-track"]||[]).push([[0],{125:function(e,t,a){e.exports=a(152)},130:function(e,t,a){},143:function(e,t,a){},149:function(e,t,a){},152:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),l=(a(130),a(10)),o=a(21),u=a(69);a(140),a(141);u.initializeApp({apiKey:"AIzaSyB9VIxIKm8TCcXe1qdGHrVzvf1n5s5oU5w",authDomain:"life-on-track-8096c.firebaseapp.com",databaseURL:"https://life-on-track-8096c.firebaseio.com",projectId:"life-on-track-8096c",storageBucket:"life-on-track-8096c.appspot.com",messagingSenderId:"872915757737",appId:"1:872915757737:web:2820ef091dda14b8f5d7b8"});var s=u.firestore(),m=function(){return u.auth()},d=a(13),p=a.n(d),f=a(18),v=a(221);function E(e){return g.apply(this,arguments)}function g(){return(g=Object(f.a)(p.a.mark((function e(t){var a,n,r,i,c,l,o,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,r=t.displayName,i=void 0===r?"No Name":r,c=t.photoURL,l=void 0===c?"https://placekitten.com/200/200":c,e.prev=1,e.next=4,m().createUserWithEmailAndPassword(a,n);case 4:return o=e.sent,u=o.user,d=Object(v.a)(new Date,"yyyy-mm-dd"),e.next=9,u.updateProfile({displayName:i,photoURL:l});case 9:return e.next=11,s.doc("users/".concat(u.uid)).set({displayName:i,uid:u.uid,photoURL:l,createdAt:d});case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(1),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function h(){return m().signOut()}var b=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",s.collection("activityType").add(Object(o.a)({createdAt:Date.now()},t)).then((function(e){return e.get()})).then((function(e){return Object(o.a)({},e.data(),{id:e.id})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),a=s.doc("activityType/".concat(t.id)),console.log("firebase",a),a.update(Object(o.a)({updatedAt:Date.now()},t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=x((function(e,t){return s.collection("activityType").orderBy("createdAt").where("uid","==",e).onSnapshot((function(e){return t(k(e))}))})),O=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",s.collection("activity").add(Object(o.a)({createdAt:Date.now()},t)).then((function(e){return e.get()})).then((function(e){return Object(o.a)({},e.data(),{id:e.id})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=x((function(e,t){return s.collection("activity").orderBy("createdAt").where("uid","==",e).onSnapshot((function(e){return t(k(e))}))}));function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=0;return function(){if(++a>t)throw new Error("EASY THERE: You've called \"".concat(e.name,'" too many times too quickly, did you forget the second argument to useEffect? Also, this is a message from Ryan and Michael, not React.'));return setTimeout((function(){return a=0}),3e3),e.apply(void 0,arguments)}}function k(e){var t=[];return e.forEach((function(e){t.push(function(e){return Object(o.a)({},e.data(),{id:e.id})}(e))})),t}var S=x((function(e){return s.doc(e).get().then((function(e){return e.data()}))})),A=Object(n.createContext)();function N(e){var t=e.reducer,a=e.initialState,i=void 0===a?{}:a,c=e.children,l=Object(n.useReducer)(t,i);return r.a.createElement(A.Provider,{value:l,children:c})}function C(){return Object(n.useContext)(A)}function T(){var e=C(),t=Object(l.a)(e,2),a=t[0],r=a.authAttempted,i=a.auth,c=t[1];return Object(n.useEffect)((function(){return e=function(e){if(e){var t=e.displayName,a=e.photoURL,n=e.uid;c({type:"AUTH_CHANGE",auth:{displayName:t,photoURL:a,uid:n}})}else c({type:"AUTH_CHANGE",auth:null})},m().onAuthStateChanged(e);var e}),[c]),{authAttempted:r,auth:i}}var R=a(67),I=a(47),P={};function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{listen:!0},a=t.listen,r=P[e],i=Object(n.useState)(r),c=Object(l.a)(i,2),o=c[0],u=c[1];return Object(n.useEffect)((function(){if(a)return j(e,(function(t){P[e]=t,u(t)}))}),[e,a]),o}function W(e){return U.apply(this,arguments)}function U(){return(U=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete t.id,b(t),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return H.apply(this,arguments)}function H(){return(H=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updateTaskTypes",t),y(t),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=a(190),G=a(6),F=a(223),z=a(202),_=a(49),M=a(153),q=(a(143),a(193)),V=a(195),J=a(196),K=Object(B.a)({root:{minWidth:295},title:{fontSize:16}}),Y=function(e){var t=K();return r.a.createElement(n.Fragment,null,r.a.createElement(q.a,{className:t.root},r.a.createElement(V.a,null,r.a.createElement(_.a,{className:t.title,gutterBottom:!0,variant:"h5",component:"h2"},null===e||void 0===e?void 0:e.title),e.children),r.a.createElement(J.a,null,null===e||void 0===e?void 0:e.buttons)))},X=Object(B.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},button:{width:"100%",marginTop:e.spacing(2)}}})),Q=Object(G.a)({root:{marginRight:8,"& .MuiInputBase-root.Mui-disabled":{color:"rgba(0, 0, 0, 0.75)"}}})(F.a),Z=function(e){var t=e.passedInActivityType,a=X(),i=Object(n.useState)({activityName:(null===t||void 0===t?void 0:t.activityName)||"",importance:(null===t||void 0===t?void 0:t.importance)||"",satisfaction:(null===t||void 0===t?void 0:t.satisfaction)||"",uid:e.uid,id:null===t||void 0===t?void 0:t.id}),c=Object(l.a)(i,2),u=c[0],s=c[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),v=d[0],E=d[1],g=Object(n.useState)(!1),h=Object(l.a)(g,2),b=h[0],y=h[1],j=Object(n.useState)(!1),O=Object(l.a)(j,2),w=O[0],x=O[1],k=function(e){""!==u.activityName&&""!==u.importance&&""!==u.satisfaction?(x(""),e(),y(!1)):x({message:"Please fill out all fields"})},S=function(){var a=Object(f.a)(p.a.mark((function a(){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return E(!0),console.log(u),a.prev=2,a.next=5,W(u);case 5:E(!1),s({activityName:(null===t||void 0===t?void 0:t.activityName)||"",importance:(null===t||void 0===t?void 0:t.importance)||"",satisfaction:(null===t||void 0===t?void 0:t.satisfaction)||"",uid:e.uid}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(2),x(a.t0),E(!1);case 13:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(){return a.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,L(u);case 4:E(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),x(e.t0),E(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(!b);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Y,{title:e.passedInActivityType?t.activityName:"Add a new activity",className:a.root},r.a.createElement(z.a,{container:!0,direction:"column",justify:"space-between",alignItems:"stretch"},r.a.createElement("div",{style:{height:25}},w&&r.a.createElement(_.a,{color:"error",variant:"caption"},w.message)),r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(Q,{fullWidth:!0,error:!(!w||u.importance),onChange:function(e){var t=e.target.value;s(Object(o.a)({},u,{activityName:t}))},disabled:!!e.passedInActivityType&&!b,type:"text",placeholder:"Activity Name",label:"Activity Name",value:u.activityName})),r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(Q,{fullWidth:!0,error:!(!w||u.importance),onChange:function(e){var t=e.target.value;console.log(u),s(Object(o.a)({},u,{importance:t}))},disabled:!!e.passedInActivityType&&!b,inputProps:{min:"1",max:"5",step:"1"},type:"number",placeholder:"1 - 5",label:e.passedInActivityType?"Importance":"How important is this to you?",value:u.importance})),r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(Q,{fullWidth:!0,error:!(!w||u.importance),disabled:!!e.passedInActivityType&&!b,inputProps:{min:"1",max:"5",step:"1"},onChange:function(e){var t=e.target.value;console.log(u),s(Object(o.a)({},u,{satisfaction:t}))},type:"number",placeholder:"1 - 5",label:e.passedInActivityType?"Satisfaction":"Satisfaction from activity",value:u.satisfaction})),b?r.a.createElement(z.a,{justify:"space-between",container:!0},r.a.createElement(z.a,{item:!0,xs:5},r.a.createElement(M.a,{className:a.button,variant:"outlined",color:"secondary",onClick:N},r.a.createElement("span",null,"cancel"))),r.a.createElement(z.a,{item:!0,xs:5},r.a.createElement(M.a,{className:a.button,variant:"contained",color:"primary",onClick:function(){return k(A)}},r.a.createElement("span",null,v?"Loading...":"Done")))):r.a.createElement(z.a,null,r.a.createElement(M.a,{className:a.button,variant:"contained",color:"primary",onClick:e.passedInActivityType?N:function(){return k(S)}},r.a.createElement("span",null,v?"Loading...":e.passedInActivityType?"Edit":"Add")))))},$=a(87),ee=a(36),te=a.n(ee),ae=(a(148),a(149),{});function ne(){return(ne=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete t.id,O(t),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=a(73),ie=a(229),ce=a(109),le=a(203),oe=a(204),ue=a(226),se=a(205),me=a(206),de=a(207),pe=a(208),fe=a(222),ve=a(209),Ee=a(210),ge=function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},icon:{marginRight:e.spacing(.5)},divider:{margin:"auto"},grid:{marginBottom:e.spacing(2)}}},he=Object(G.a)(ge)((function(e){var t=e.dialogProps,a=e.user,i=Object(ce.a)(),c=Object(n.useState)(null),u=Object(l.a)(c,2),s=u[0],m=(u[1],Object(n.useState)(null)),d=Object(l.a)(m,2),p=(d[0],d[1],Object(n.useState)({end:te()(),start:te()(),satisfaction:1})),f=Object(l.a)(p,2),v=f[0],E=f[1],g=Object(n.useState)(!1),h=Object(l.a)(g,2),b=h[0];h[1];Object(n.useEffect)((function(){var e,n,r,i;E({end:te()(null===t||void 0===t||null===(e=t.event)||void 0===e?void 0:e.end).format("hh:mm"),start:te()(null===t||void 0===t||null===(n=t.event)||void 0===n?void 0:n.start).format("hh:mm"),satisfaction:(null===t||void 0===t||null===(r=t.event)||void 0===r?void 0:r.satisfaction)||null,activityName:null===t||void 0===t||null===(i=t.event)||void 0===i?void 0:i.title,uid:a.uid})}),[a,t]);var y=D(a.uid),j=function(e){E(Object(o.a)({},v,Object(re.a)({},e.target.id,e.target.value))),console.log(v)},O=function(e){e.start=te()(e.start,"HH:mm").toDate(),e.end=te()(e.end,"HH:mm").toDate(),function(e){ne.apply(this,arguments)}(e),t.toggle()};return r.a.createElement(le.a,{fullWidth:!0,open:null===t||void 0===t?void 0:t.open,maxWidth:"sm","aria-labelledby":"form-dialog-title"},r.a.createElement(oe.a,{disableTypography:!0},r.a.createElement(_.a,{variant:"h6"},"Add a new activity :)"),r.a.createElement(ue.a,{title:"Close"},r.a.createElement(se.a,{style:{position:"absolute",right:i.spacing(1),top:i.spacing(1)},onClick:null===t||void 0===t?void 0:t.toggle},r.a.createElement(ie.a,null)))),r.a.createElement(me.a,null,s&&r.a.createElement("div",null,r.a.createElement("p",null,"Oops, there was an error adding the activity."),r.a.createElement("p",null,r.a.createElement("i",null,s.message))),r.a.createElement(de.a,null,"Think about how you felt while you were doing your activity."),r.a.createElement(z.a,{container:!0,direction:"row"},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(pe.a,{className:ge.divider,orientation:"vertical"})),r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(z.a,{container:!0,spacing:2},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(fe.a,{fullWidth:!0,onChange:function(e){E(Object(o.a)({},v,{activityName:e.target.value})),console.log(v)},value:v.activityName,placeholder:"What did you do?",id:"activityName",displayEmpty:!0,label:"Activity Type"},r.a.createElement(ve.a,{value:""},r.a.createElement("em",null,"None")),y&&y.map((function(e){return r.a.createElement(ve.a,{key:e.id,value:e.activityName},e.activityName)})))),r.a.createElement(z.a,{item:!0,xs:6},r.a.createElement(F.a,{fullWidth:!0,inputProps:{step:900},onChange:function(e){return j(e)},value:v.start,id:"start",placeholder:te()().format("hh, mm, a"),type:"time",label:"Start"})),r.a.createElement(z.a,{item:!0,xs:6},r.a.createElement(F.a,{fullWidth:!0,value:v.end,inputProps:{step:900},onChange:function(e){return j(e)},id:"end",placeholder:te()().format("hh"),type:"time",label:"End"})),r.a.createElement(z.a,{item:!0,xs:2},r.a.createElement(F.a,{fullWidth:!0,type:"number",inputProps:{min:"1",max:"5",step:"1"},onChange:function(e){return j(e)},id:"satisfaction",value:v.satisfaction||1,label:"Satisfaction"})),r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(F.a,{fullWidth:!0,multiline:!0,rows:4,variant:"outlined",type:"text",onChange:function(e){return j(e)},id:"satisfactionReason",label:"What did you enjoy/dislike?",value:v.satisfactionReason}))))),r.a.createElement(Ee.a,{style:{justifyContent:"space-between"}},r.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){return O(v)}},r.a.createElement("span",null,b?"Loading...":"Add")))))})),be=Object($.b)(te.a),ye=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)(),u=Object(l.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(),p=Object(l.a)(d,2),f=p[0],v=p[1],E=C(),g=Object(l.a)(E,1)[0].user,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{listen:!0},a=t.listen,r=ae[e],i=Object(n.useState)(r),c=Object(l.a)(i,2),o=c[0],u=c[1];return Object(n.useEffect)((function(){if(a)return w(e,(function(t){ae[e]=t,u(t)}))}),[e,a]),o}(g.uid);console.log(h),Object(n.useEffect)((function(){var e=null===h||void 0===h?void 0:h.map((function(e){return{title:e.activityName,start:e.start.toDate(),end:e.end.toDate()}}));v(e)}),[h]);var b=function(e){console.log("passedEvent",e),c(!0);var t=(null===e||void 0===e?void 0:e.start)||(null===e||void 0===e?void 0:e.slots[0]),a=(null===e||void 0===e?void 0:e.end)||e.slots.pop();m({start:t,end:a})},y={event:s,open:i,toggle:function(){return c(!i)}};return r.a.createElement(r.a.Fragment,null,f&&r.a.createElement($.a,{localizer:be,selectable:!0,onSelectSlot:function(e){return b(e)},onSelectEvent:function(e){return b(e)},startAccessor:"start",events:f,endAccessor:"end",style:{height:800},eventPropGetter:function(e,t,a,n){return{style:{backgroundColor:"#67a9ff",borderRadius:"0px",color:"white",border:"0px",display:"block"}}},defaultView:"day"}),r.a.createElement(he,Object.assign({dialogProps:y,user:g},y.props)))},je=Object(B.a)((function(){return{root:{flexGrow:1}}})),Oe=function(){var e=je(),t=C(),a=Object(l.a)(t,1)[0].user,i=D(a.uid);return r.a.createElement(n.Fragment,null,r.a.createElement(z.a,{container:!0,className:e.root,spacing:2},i&&i.map((function(e){return r.a.createElement(z.a,{key:e.id,item:!0,xs:4},r.a.createElement(Z,{passedInActivityType:e,uid:a.uid}))})),r.a.createElement(z.a,{item:!0,xs:3},r.a.createElement(Z,{uid:a.uid}))))},we=a(215),xe=a(227),ke=a(211),Se=a(212),Ae=a(201),Ne=a(155),Ce=a(213),Te=a(214),Re=a(106),Ie=a.n(Re),Pe=a(107),De=a.n(Pe),We=a(105),Ue=a.n(We),Le=Object(B.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));function He(){var e=Le(),t=[{text:"Dashboard",clickHandler:function(){a.push("/")},icon:r.a.createElement(Ue.a,null)},{text:"My Day",clickHandler:function(){a.push("/calendar")},icon:r.a.createElement(Ie.a,null)},{text:"Activities",clickHandler:function(){a.push("/activityTypes")},icon:r.a.createElement(De.a,null)}],a=Object(I.e)();return r.a.createElement(n.Fragment,null,r.a.createElement(ke.a,null),r.a.createElement(xe.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper}},r.a.createElement(Se.a,null),r.a.createElement("div",{className:e.drawerContainer}),r.a.createElement(pe.a,null),r.a.createElement(Ae.a,null,t.map((function(e,t){return r.a.createElement(Ne.a,{onClick:e.clickHandler,button:!0,key:e.text},r.a.createElement(Ce.a,null,e.icon),r.a.createElement(Te.a,{primary:e.text}))}))),r.a.createElement(pe.a,null)))}var Be=function(){var e=C();D(Object(l.a)(e,1)[0].user.uid);return r.a.createElement(n.Fragment,null,r.a.createElement(z.a,{container:!0,justify:"center",spacing:2,minHeight:1e3},r.a.createElement(z.a,{item:!0},r.a.createElement(_.a,null,"Dashboard goes here :)"))))},Ge=Object(B.a)((function(e){return{root:{flexGrow:1,marginTop:e.spacing(4)}}})),Fe=function(e){var t=C(),a=Object(l.a)(t,2),i=a[0],c=i.auth,o=i.user,u=a[1],s=Ge();return Object(n.useEffect)((function(){o||S("users/".concat(c.uid)).then((function(e){u({type:"LOAD_USER",user:e})}))}),[o,c.uid,u]),console.log(o),r.a.createElement(n.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(He,null),r.a.createElement(we.a,{maxWidth:"md"},r.a.createElement("div",{className:s.root},null!=o&&r.a.createElement(n.Fragment,null,r.a.createElement(I.a,{exact:!0,path:"/calendar"},r.a.createElement(ye,null)),r.a.createElement(I.a,{exact:!0,path:"/activityTypes",name:"Activity Types",component:Oe}),r.a.createElement(I.a,{exact:!0,path:"/",name:"Dashboard",component:Be}))))))},ze=function(){return r.a.createElement("div",null,r.a.createElement(_.a,null,"Sign In"))},_e=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(He,null),r.a.createElement("div",null,r.a.createElement(we.a,{maxWidth:"lg"},r.a.createElement(I.a,{exact:!0,path:"/",name:"Register Page",component:ze}),r.a.createElement(I.a,{exact:!0,path:"/life-on-track",name:"Landing",component:Be})))))},Me=a(225),qe=a(216),Ve=function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},icon:{marginRight:e.spacing(.5)},divider:{margin:"auto"},grid:{marginBottom:e.spacing(2)}}};function Je(e){var t=e.id,a=e.label,i=e.type,c=void 0===i?"text":i;return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{fullWidth:!0,id:t,type:c,placeholder:a,label:a}))}var Ke=Object(G.a)(Ve)((function(e){var t=e.dialogProps,a=Object(ce.a)(),i=Object(n.useState)(null),c=Object(l.a)(i,2),o=c[0],u=c[1],s=Object(n.useState)(!1),m=Object(l.a)(s,2),d=m[0],v=m[1],g=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r,i,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),a=Object(l.a)(t.target.elements,4),n=a[0],r=a[1],i=a[2],c=a[3],e.prev=3,o={displayName:n.value,email:i.value,password:c.value,photoURL:r.value},e.next=7,E(o);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),v(!1),u(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(le.a,{fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",open:null===t||void 0===t?void 0:t.open},r.a.createElement(oe.a,{disableTypography:!0},r.a.createElement(_.a,{variant:"h6"},"Register"),r.a.createElement(ue.a,{title:"Close"},r.a.createElement(se.a,{style:{position:"absolute",right:a.spacing(1),top:a.spacing(1)},onClick:null===t||void 0===t?void 0:t.toggle},r.a.createElement(ie.a,null)))),r.a.createElement("form",{onSubmit:g},r.a.createElement(me.a,null,o&&r.a.createElement("div",null,r.a.createElement("p",null,"Oops, there was an error logging you in."),r.a.createElement("p",null,r.a.createElement("i",null,o.message))),r.a.createElement(de.a,null,"Register with an email to start your journey."),r.a.createElement(z.a,{container:!0,direction:"row"},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(pe.a,{className:Ve.divider,orientation:"vertical"})),r.a.createElement(z.a,{item:!0,xs:7},r.a.createElement(z.a,{container:!0,direction:"column",spacing:2},r.a.createElement(z.a,{item:!0,xs:!0},r.a.createElement(Je,{id:"displayName",label:"Display Name"})),r.a.createElement(z.a,{item:!0,xs:!0},r.a.createElement(Je,{id:"photoURL",label:"Avatar URL"})),r.a.createElement(z.a,{item:!0,xs:!0},r.a.createElement(Je,{id:"email",label:"Email"})),r.a.createElement(z.a,{item:!0,xs:!0},r.a.createElement(Je,{id:"password",type:"password",label:"Password"}))))),r.a.createElement(Ee.a,{style:{justifyContent:"space-between"}},r.a.createElement(qe.a,{variant:"caption",component:"button",onClick:null===t||void 0===t?void 0:t.switch},"Register"," "),r.a.createElement(M.a,{variant:"contained",color:"primary",type:"submit"},r.a.createElement("span",null,d?"Loading...":"Register"))))))})),Ye=a(217),Xe=a(224),Qe=function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},icon:{marginRight:e.spacing(.5)},divider:{margin:"auto"},grid:{marginBottom:e.spacing(2)}}},Ze=Object(G.a)(Qe)((function(e){var t=e.dialogProps,a=Object(ce.a)(),i=Object(n.useState)(null),c=Object(l.a)(i,2),o=c[0],u=c[1],s=Object(n.useState)(!1),d=Object(l.a)(s,2),v=d[0],E=d[1],g=Object(n.useState)(!1),h=Object(l.a)(g,2),b=h[0],y=h[1],j=Object(n.useRef)(),O=Object(n.useRef)(),w=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(!0),e.prev=2,e.next=5,a=j.current.value,n=O.current.value,console.log("logging in..."),m().signInWithEmailAndPassword(a,n);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),E(!1),u(e.t0);case 11:case"end":return e.stop()}var a,n}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(le.a,{fullWidth:!0,open:null===t||void 0===t?void 0:t.open,maxWidth:"sm","aria-labelledby":"form-dialog-title"},r.a.createElement(oe.a,{disableTypography:!0},r.a.createElement(_.a,{variant:"h6"},"Sign in to your account"),r.a.createElement(ue.a,{title:"Close"},r.a.createElement(se.a,{style:{position:"absolute",right:a.spacing(1),top:a.spacing(1)},onClick:null===t||void 0===t?void 0:t.toggle},r.a.createElement(ie.a,null)))),r.a.createElement(me.a,null,o&&r.a.createElement("div",null,r.a.createElement("p",null,"Oops, there was an error logging you in."),r.a.createElement("p",null,r.a.createElement("i",null,o.message))),r.a.createElement(de.a,null,"To login to this website, please enter your email address and password."),r.a.createElement("form",{onSubmit:w},r.a.createElement(z.a,{container:!0,direction:"row"},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(pe.a,{className:Qe.divider,orientation:"vertical"})),r.a.createElement(z.a,{item:!0,xs:7},r.a.createElement(z.a,{container:!0,direction:"column",spacing:2},r.a.createElement(z.a,{item:!0,xs:!0},r.a.createElement(F.a,{autoFocus:!0,fullWidth:!0,ref:j,id:"login:email",placeholder:"you@example.com",type:"text",label:"Email"})),r.a.createElement(z.a,{item:!0,xs:!0},r.a.createElement(F.a,{fullWidth:!0,ref:O,id:"login:password",type:b?"text":"password",placeholder:"Password",label:"password"})),r.a.createElement(z.a,{item:!0,xs:!0},r.a.createElement(Ye.a,{control:r.a.createElement(Xe.a,{color:"primary",onChange:function(e){y(e.target.checked)},defaultChecked:b}),label:"show password"})))))),r.a.createElement(Ee.a,{style:{justifyContent:"space-between"}},r.a.createElement(qe.a,{variant:"caption",component:"button",onClick:null===t||void 0===t?void 0:t.switch},"Register "),r.a.createElement(M.a,{variant:"contained",color:"primary",type:"submit"},r.a.createElement("span",null,v?"Loading...":"Login")))))})),$e=function(e){var t=e.theme,a=e.dialogs,n=e.openSnackbar,i=a.signUpDialog,c=a.signInDialog;return r.a.createElement(Me.a,{xsDown:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,Object.assign({dialogProps:i.dialogProps,theme:t,openSnackbar:n},i.props)),r.a.createElement(Ze,Object.assign({dialogProps:c.dialogProps,theme:t,openSnackbar:n},c.props,{signUpDialogProps:i.dialogProps}))))},et={authAttempted:!1,auth:null,user:null},tt=function(e,t){switch(t.type){case"AUTH_CHANGE":return Object(o.a)({},e,{auth:t.auth,authAttempted:!0});case"LOAD_USER":return Object(o.a)({},e,{user:t.user});default:return e}},at=a(220),nt=a(218),rt=a(219),it=Object(B.a)((function(e){return{root:{display:"flex",flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},title:{flexGrow:1}}})),ct=function(e){var t=C(),a=Object(l.a)(t,2),i=a[0],c=i.auth,o=i.user,u=a[1],s=e.onSignInClick,m=e.onSignUpClick,d=it();return Object(n.useEffect)((function(){!o&&c&&S("users/".concat(c.uid)).then((function(e){u({type:"LOAD_USER",user:e})}))}),[o,c,null===c||void 0===c?void 0:c.uid,u]),r.a.createElement("div",{className:d.root},r.a.createElement(nt.a,{position:"static",className:d.appBar},r.a.createElement(Se.a,null,r.a.createElement(_.a,{variant:"h6",className:d.title},"Life on Track"),o?r.a.createElement(M.a,{color:"inherit",onClick:h},"Sign out"):r.a.createElement(rt.a,{color:"inherit"},r.a.createElement(M.a,{onClick:m},"Sign up"),r.a.createElement(M.a,{onClick:s},"Sign in")))))},lt=function(){var e=T(),t=e.authAttempted,a=e.auth,i=Object(n.useState)(!1),c=Object(l.a)(i,2),o=c[0],u=c[1],s=Object(n.useState)(!1),m=Object(l.a)(s,2),d=m[0],p=m[1],f=r.a.useMemo((function(){return Object(ce.a)({palette:{primary:{main:"#007bf5",contrastText:"#ffffff"},secondary:{main:"#f57b00"},type:"light"}})}),[!1]);return t?r.a.createElement(at.a,{theme:f},r.a.createElement($e,{theme:f,dialogs:{signUpDialog:{dialogProps:{open:d,toggle:function(){return p(!d)},switch:function(){p(!d),u(!o)}}},signInDialog:{dialogProps:{open:o,toggle:function(){return u(!o)},switch:function(){u(!o),p(!d)}}}}}),r.a.createElement(ct,{onSignUpClick:function(){return p(!0)},onSignInClick:function(){return u(!0)}}),a?r.a.createElement(Fe,null):r.a.createElement(_e,null)):null},ot=function(){return r.a.createElement(N,{reducer:tt,initialState:et},r.a.createElement(lt,null))};c.a.render(r.a.createElement(ot,null),document.querySelector("#root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.c02b983d.chunk.js.map